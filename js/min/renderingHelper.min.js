"use strict";const FocusType={Editor:0,Preview:1,Menu:2,FullPreview:3,FullEditor:4};function RenderingHelper(){let _instance;(RenderingHelper=function(){return _instance}).prototype=this,(_instance=new RenderingHelper).constructor=RenderingHelper;let onlyEditorIsShown=!0,isInFullFocus=!1;function _applyCodeBlockHighlight(html){const tmpHTML=document.createElement("html");tmpHTML.innerHTML=html;const preBlocks=tmpHTML.getElementsByTagName("pre"),preBlocksLength=preBlocks.length;for(let i=0;i<preBlocksLength;i++){let preBlockChild=preBlocks[i].children[0],oldBlockHTML=preBlockChild.innerHTML.replace(/'/g,"&#39;");hljs.highlightBlock(preBlockChild),html=html.replace(oldBlockHTML,preBlockChild.innerHTML)}return html}function cleanFocusClassList(element,elementName){const focusClasses=[`main--${elementName}-withFocus`,`main--${elementName}-withoutFocus`,`main--${elementName}-withoutFocus-menuShown`,`main--${elementName}-full`,"hidden"];for(let c of focusClasses)element.classList.remove(c)}return _instance.renderPreview=function(editorContent){let html;return _applyCodeBlockHighlight(marked(editorContent,{sanitize:!0}))},_instance.setFocus=function(focusType){const isFocusType=focusType===FocusType.FullPreview||focusType===FocusType.FullEditor||focusType===FocusType.Menu;if(!0===isInFullFocus&&!1===isFocusType)return;const editor=document.getElementById("editorDiv"),preview=document.getElementById("previewDiv");cleanFocusClassList(editor,"editor"),cleanFocusClassList(preview,"preview"),focusType===FocusType.Preview?(editor.classList.add("main--editor-withoutFocus"),preview.classList.add("main--preview-withFocus"),isInFullFocus=!1):focusType===FocusType.Editor?(editor.classList.add("main--editor-withFocus"),preview.classList.add("main--preview-withoutFocus"),isInFullFocus=!1):focusType===FocusType.Menu?(editor.classList.add("main--editor-withoutFocus"),preview.classList.add("main--preview-withoutFocus-menuShown"),isInFullFocus=!1):focusType===FocusType.FullPreview?(preview.classList.add("main--preview-full"),editor.classList.add("hidden"),isInFullFocus=!0):focusType===FocusType.FullEditor&&(editor.classList.add("main--editor-full"),preview.classList.add("hidden"),isInFullFocus=!0)},_instance.switchFullView=function(){const btnSwitchView=document.getElementById("btnSwitchView");!0===onlyEditorIsShown?(this.setFocus(FocusType.FullPreview),btnSwitchView.innerText=Resx.showEditor):(this.setFocus(FocusType.FullEditor),btnSwitchView.innerText=Resx.showPreview),onlyEditorIsShown=!onlyEditorIsShown},_instance}